main(number=99):
  map:
  - println
  - map:
    - paragraph
    - range(number, 0, -1)

paragraph(num): |
  $(bottles num) of beer on the wall,
  $(bottles num) of beer.
  Take one down, pass it around.
  $(bottles (num - 1)) of beer on the wall.

bottles(n):
  cond: [
    (n == 0), "No more bottles",
    (n == 1), "1 bottle",
    :else,    "$n bottles" ]
