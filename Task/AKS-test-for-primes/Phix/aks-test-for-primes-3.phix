atom t0 = time(), t1 = t0+1
sequence p = {}
integer maxn = 0
for n=2 to 10000 do -- (more than we can manage in 10s)
    sequence r = {1}
    for k=1 to n do
        r &= 1
        for l=k to 2 by -1 do
            r[l] = remainder(r[l]+r[l-1],n)
        end for
    end for
    if sum(r)=2 then -- ie {1,<==all 0s==>,1}
        p &= n
    end if
    maxn = n
    if time()>t1 then
        if time()>t0+10 then progress("") exit end if
        progress("checking %d",{n})
        t1 = time()+1
    end if
end for
sequence q = get_primes_le(maxn)
printf(1,"%d primes < %d found, correctly:%t, in %s\n",{length(p),maxn,p=q,elapsed(time()-t0)})
wait_key()
