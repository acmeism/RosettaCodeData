File.stream!("unixdict.txt")
  |> Stream.map(&(String.strip(&1)))
  |> Stream.map(&({&1,&1
    |> String.split("",trim: true)
    |> Enum.sort
    |> Enum.join}))
  |> Enum.to_list
  |> Enum.group_by(fn {_,y} -> y end)
  |> Dict.values
  |> Enum.group_by(&(length(&1)))
  |> Enum.max_by(&(&1))
  |> elem(1)
  |> Stream.map(fn n -> Stream.map(n, fn {y,_} -> y end)
  |> Enum.sort
    |> Enum.join(" ") end)
  |> Enum.join("\n")
  |> IO.puts
