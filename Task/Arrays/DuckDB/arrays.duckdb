# Insert `value` after row i (using IO=1) in a one-column table named t (a string).
create or replace function insert_after(i, value, t) as table (
  (FROM query_table(t) LIMIT i)
  union all
  select value
  union all (FROM query_table(t) OFFSET i)
);

from insert_after_row(1, 100, 't');
