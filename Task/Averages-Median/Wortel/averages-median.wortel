@let {
  ; iterative
  med1 &l @let {a @sort l s #a i @/s 2 ?{%%s 2 ~/ 2 +`-i 1 a `i a `i a}}

  ; tacit
  med2 ^(\~/2 @sum @(^(\&![#~f #~c] \~/2 \~-1 #) @` @id) @sort)

  [[
    !med1 [4 2 5 2 1]
    !med1 [4 5 2 1]
    !med2 [4 2 5 2 1]
    !med2 [4 5 2 1]
  ]]
}
