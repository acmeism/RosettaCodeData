create or replace function sort_by_length(lst) as  (
  select array_agg(s order by length(s)) as sorted_by_length
  from (select unnest( lst ) as s)
);

select sort_by_length( ['abcd','123456789','abcdef','1234567'] ) as "sorted by length";
