factorial templates
  when <|=0> do 1 !
  when <|0..> do $ * ($ - 1 -> #) !
end factorial
