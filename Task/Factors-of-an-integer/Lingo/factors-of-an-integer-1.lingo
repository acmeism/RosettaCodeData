on factors(n)
  res = [1]
  repeat with i = 2 to n/2
    if n mod i = 0 then res.add(i)
  end repeat
  res.add(n)
  return res
end
