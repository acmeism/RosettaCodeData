func factors(n) {
  gather {
    { |d|
        take(d, n//d) if d.divides(n)
    } << 1..n.isqrt
  }.sort.uniq
}
Â 
for n [53, 64, 32766] {
    say "factors(#{n}): #{factors(n)}"
}
