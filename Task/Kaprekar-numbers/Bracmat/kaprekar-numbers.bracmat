( 0:?n
& 1:?count
& out$(!count 1)
&   whl
  ' ( 1+!n:<1000000:?n
    & ( @( !n^2
         :   #?a
             ( ? (#>0:?b)
             & !a+!b:!n
             & 1+!count:?count
             & (!n:<10000&out$!n|)
             )
         )
      |
      )
    )
& out$(str$("There are " !count " kaprekar numbers less than 1000000"))
);
