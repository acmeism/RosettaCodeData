create or replace function list_triples(n) as (
  [ xyz FOR xyz IN (select array_agg([x,y,z] order by x) FROM xyz(n))
           IF xyz[1]**2 + xyz[2]**2 = xyz[3]**2 ]
);
