function luhn(b)
    local sum = 0
    local odd = true
    for i = #b,1,-1 do
        local n = tonumber(b[i])
        if odd then
           sum += n
        else
           n *= 2
           sum += n//10 + n%10
        end
        odd = !odd
    end
    return sum%10 == 0
end

a = {"49927398716",
"49927398717",
"1234567812345678",
"1234567812345670"}

for a as i do print(luhn(i)) end
