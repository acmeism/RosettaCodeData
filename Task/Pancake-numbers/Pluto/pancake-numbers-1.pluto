local fmt = require "fmt"

local function pancake(n)
    local gap = 2
    local pg = 1
    local sum_gaps = gap
    local adj = -1
    while sum_gaps < n do
        ++adj
        pg, gap = gap, gap + pg
        sum_gaps += gap
    end
    return n + adj
end

for i = 0, 3 do
    for j = 1, 5 do
        local n = i * 5 + j
        fmt.write("p(%2d) = %2d  ", n, pancake(n))
    end
    print()
end
