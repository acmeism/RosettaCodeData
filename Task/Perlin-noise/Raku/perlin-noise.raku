constant @p = flat { @_.sort.antipairs.Hash{@_} }(<
  ðŸ˜…ðŸ˜ŽðŸ“¸ðŸ‘‘ðŸ‘âœŒ ðŸ’»âœŠðŸ˜»ðŸ’€ðŸ’ðŸƒðŸ˜²ðŸ¤¦â˜ºðŸ¤™ðŸ”µðŸŒ•ðŸ’ŽðŸŒŽðŸŽ¶ðŸ–•âš ðŸ’†ðŸŒ–ðŸ¤­â£âš½âž¡ðŸ˜®â˜¹ðŸ˜‚
  ðŸ¥°ðŸ’£ðŸ¤§ðŸ·â–¶ðŸŒˆðŸ˜µðŸŽðŸ‘¼ðŸ¦‹ðŸ¤ðŸ™‚ðŸ’ŸðŸŒ”âœ…ðŸŒ‘ðŸ’ðŸ˜ŸðŸŒ’ðŸ‘ŽðŸ¤ªðŸ˜ƒðŸ‘ðŸ‘ðŸ˜œâ“ðŸ’©ðŸ“£ðŸ˜™ðŸ˜–ðŸŽµðŸ˜
  ðŸ¶ðŸ˜“ðŸƒðŸ“ŒðŸ”´ðŸŒºðŸŒŠðŸ˜”ðŸ¾ðŸ˜€ðŸ˜ŒðŸ¤£ðŸ‘‰ðŸ’™ðŸ¤ ðŸ’¦ðŸ»ðŸ™‹ðŸ’¿ðŸ¤¢ðŸ¤‘ðŸ’“ðŸ‘¶ðŸŒžðŸŽðŸŒ¸ðŸ¥€ðŸŒšðŸ¤·ðŸ’ðŸ–¤ðŸŠ
  ðŸŽ‰â­ðŸŽ‚ðŸ˜â˜€ðŸš©ðŸ‘†ðŸ‰ðŸ™ˆðŸ¸ðŸ’¾ðŸ˜«ðŸ™‡ðŸ‘â„ðŸ˜—ðŸ˜¹ðŸ˜´ðŸ“ðŸ’¸ðŸ’žðŸ˜¬ðŸ˜ðŸ‘ŒðŸ˜’ðŸ’‹ðŸ’—ðŸ˜¶ðŸ˜›ðŸ˜ªâ˜ŽðŸŽˆ
  ðŸ€ðŸš¶ðŸ¤ðŸ¥µðŸ’¨ðŸ’§â˜ ðŸ™ðŸŒ—ðŸ˜ðŸ’¡ðŸ’ªðŸªðŸ‘ˆðŸ‘‹ðŸ™ŒðŸ™†ðŸ™…ðŸºðŸ¤žðŸŒ¹âœ”ðŸ“âœ¨ðŸ˜¤ðŸ˜­ðŸŒŒðŸŒŸðŸ¤—ðŸ˜¥ðŸ˜˜ðŸ™
  ðŸ’¢ðŸ¥³ðŸ˜†â˜„ðŸŒ´ðŸ˜ˆðŸ˜‘ðŸŽ¼ðŸ¤“ðŸ˜‡ðŸ’ŒðŸ˜‰ðŸ˜•ðŸŒ±ðŸ˜šâš¡ðŸ’°â¤ðŸŒ˜ðŸ§âŒðŸ’…ðŸ’–ðŸ’˜ðŸ‘…ðŸ’›ðŸ¤˜ðŸ¤¤ðŸ˜ ðŸ˜©ðŸ’šðŸ’
  ðŸ›° ðŸ¥‚ðŸ’ƒðŸ¤ŸðŸ¥ºðŸŒ“ðŸ¤¯ðŸ˜±ðŸ¤«ðŸ™ŠðŸ–¥ âœˆðŸ˜¯ðŸ˜¡ðŸ˜ðŸ¤®ðŸ‘‡ðŸŒ¿ðŸ—£ ðŸ¤¨ðŸ¥´âœ‹ðŸ¤¬ðŸ’•ðŸŒ»ðŸ˜°ðŸš€ðŸŒðŸ˜£ðŸ˜·ðŸ’”ðŸ˜‹
  ðŸ˜¨ðŸ‘ŠðŸ™ƒðŸ˜žðŸ’ðŸ’¥ðŸŒ¼ðŸŒ·ðŸ’«â˜•ðŸ˜„ðŸ§¡ðŸ”¥ðŸ¤©ðŸ™„ðŸ‘»ðŸ¤”ðŸ’œðŸŽ¤ðŸŒâ¬‡ðŸ†ðŸ¤²ðŸ•ºðŸ’¯ðŸ˜³ðŸ‘€ðŸŽŠðŸš¨ðŸŽ€ðŸ˜ŠðŸ˜¢
>.join.comb) xx 2;

sub fade($_) { $_ * $_ * $_ * ($_ * ($_ * 6 - 15) + 10) }
sub lerp($t, $a, $b) { $a + $t * ($b - $a) }
sub grad($h is copy, $x, $y, $z) {
    $h +&= 15;
    my $u = $h < 8 ?? $x !! $y;
    my $v = $h < 4 ?? $y !! $h == 12|14 ?? $x !! $z;
    ($h +& 1 ?? -$u !! $u) + ($h +& 2 ?? -$v !! $v);
}

sub noise($x is copy, $y is copy, $z is copy) {
    my ($u, $v, $w) = map &fade, ($x, $y, $z) Â»-=Â«
    my ($X, $Y, $Z) = ($x, $y, $z)Â».floor Â»+&Â» 255;
    my ($AA, $AB) = @p[$_] + $Z, @p[$_ + 1] + $Z given @p[$X] + $Y;
    my ($BA, $BB) = @p[$_] + $Z, @p[$_ + 1] + $Z given @p[$X + 1] + $Y;
    lerp($w, lerp($v, lerp($u, grad(@p[$AA    ], $x    , $y    , $z     ),
                               grad(@p[$BA    ], $x - 1, $y    , $z     )),
                      lerp($u, grad(@p[$AB    ], $x    , $y - 1, $z     ),
                               grad(@p[$BB    ], $x - 1, $y - 1, $z     ))),
             lerp($v, lerp($u, grad(@p[$AA + 1], $x    , $y    , $z - 1 ),
                               grad(@p[$BA + 1], $x - 1, $y    , $z - 1 )),
                      lerp($u, grad(@p[$AB + 1], $x    , $y - 1, $z - 1 ),
                               grad(@p[$BB + 1], $x - 1, $y - 1, $z - 1 ))));
}

say noise 3.14, 42, 7;
