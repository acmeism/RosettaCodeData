mata
function bubble_sort(a) {
	n = length(a)
	for (j = n; j >= 2; j--) {
		q = 1
		for (i = 2; i <= j; i++) {
			if (a[i-1] > a[i]) {
				q = 0
				s = a[i-1]
				a[i-1] = a[i]
				a[i] = s
			}
		}
		if (q) return
	}
}
end
