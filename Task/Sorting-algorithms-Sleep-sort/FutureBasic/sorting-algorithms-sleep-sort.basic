include "Tlbx Dispatch.incl"

include "NSLog.incl"

local fn SleepSort
  CFArrayRef unsorted = @[@35, @21, @11, @1, @2, @27, @32, @7, @42, @20, @50, @42, @25, @41, @43, @14, @46, @20, @30]

  dispatchglobal
    for int i = 0 to len(unsorted) - 1
      CFArrayRef sorted = fn ArraySortedArrayUsingSelector( unsorted, @"compare:" )
      dispatchmain
        NSLog( @"%@", sorted[i] )
      dispatchend
      ThreadSleepForTimeInterval( 0.5 )
    next
  dispatchend
end fn

fn SleepSort

HandleEvents
