(defun trim-right (str)
  (for ()
       ((and (> (length str) 0) (chr-isspace [str -1])) str)
       ((del [str -1]))))
(format t "{~a}\n" (trim-right " a a "))
(format t "{~a}\n" (trim-right "  "))
(format t "{~a}\n" (trim-right "a "))
(format t "{~a}\n" (trim-right ""))
