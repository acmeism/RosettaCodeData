hanoi(n, a, b, c) := block(
if(n=1) then print(sconcat("peg ", a, " to peg ", b))
else block(
    hanoi(n-1, a, c, b),
    hanoi(1, a, b, c),
    hanoi(n-1, c, b, a)))$

hanoi(4,1,2,3)$
