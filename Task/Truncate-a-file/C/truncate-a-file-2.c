#include <unistd.h>
#include <sys/types.h>

...
truncate(filename, length);
ftruncate(fd, length);
...
